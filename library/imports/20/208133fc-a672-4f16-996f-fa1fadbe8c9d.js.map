{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\ColorSelete.ts"],"names":[],"mappings":";;;;;AAAA,+CAA8C;AAExC,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAyB,CAAC;AAG1C;IAAyC,+BAAY;IADrD;QAAA,qEAuCC;QAnCC,YAAM,GAAc,IAAI,CAAC;QAGzB,WAAK,GAAa,IAAI,CAAC;QAGvB,kBAAY,GAAiB,IAAI,CAAC;;QA4BlC,iBAAiB;IACnB,CAAC;IA3BC,eAAe;IAEf,2BAAK,GAAL;QACE,IAAI,iBAAiB,GAAG,IAAI,EAAE,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;QACxD,iBAAiB,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC;QACrC,iBAAiB,CAAC,SAAS,GAAG,aAAa,CAAC;QAC5C,iBAAiB,CAAC,OAAO,GAAG,aAAa,CAAC;QAC1C,IAAI,IAAI,CAAC,KAAK,EAAE;YACd,iBAAiB,CAAC,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YAEtD,IAAI,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;YAC/C,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;SAC5C;IACH,CAAC;IAED,iCAAW,GAAX,UAAY,KAAK,EAAE,eAAe;QAAlC,iBAUC;QATC,IAAI,CAAC,YAAY,CAAC,gBAAgB,GAAG,eAAe,CAAC;QACrD,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,OAAO,CAAC,UAAA,KAAK;YACvC,EAAE,CAAC,IAAI,CAAC,sBAAoB,KAAI,CAAC,YAAY,CAAC,mBAAqB,CAAC,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;YAC1G,IAAI,KAAK,KAAK,eAAe,EAAE;gBAC7B,EAAE,CAAC,IAAI,CAAC,sBAAoB,KAAI,CAAC,YAAY,CAAC,mBAAqB,CAAC,CAAC,cAAc,CAAC,KAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;gBACtI,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,KAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC;aACtE;QACH,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;IAC7B,CAAC;IAjCD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;+CACK;IAGzB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;8CACI;IAGvB;QADC,QAAQ,CAAC,2BAAY,CAAC;qDACW;IATf,WAAW;QAD/B,OAAO;OACa,WAAW,CAsC/B;IAAD,kBAAC;CAtCD,AAsCC,CAtCwC,EAAE,CAAC,SAAS,GAsCpD;kBAtCoB,WAAW","file":"","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["import { CharacterMgr } from \"./CharacterMgr\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class ColorSelete extends cc.Component {\r\n\r\n  @property(cc.Button)\r\n  button: cc.Button = null;\r\n\r\n  @property(cc.Label)\r\n  label: cc.Label = null;\r\n\r\n  @property(CharacterMgr)\r\n  characterMgr: CharacterMgr = null;\r\n\r\n  // onLoad () {}\r\n\r\n  start () {\r\n    let clickEventHandler = new cc.Component.EventHandler();\r\n    clickEventHandler.target = this.node;\r\n    clickEventHandler.component = \"ColorSelete\";\r\n    clickEventHandler.handler = \"colorSelete\";\r\n    if (this.label) { \r\n      clickEventHandler.customEventData = this.label.string;\r\n      \r\n      let button = this.node.getComponent(cc.Button);\r\n      button.clickEvents.push(clickEventHandler);\r\n    }\r\n  }\r\n  \r\n  colorSelete(event, customEventData) {\r\n    this.characterMgr.currentSkinColor = customEventData;\r\n    this.characterMgr.skinColor.forEach(color => {\r\n      cc.find(`Canvas/Character/${this.characterMgr.currentSkinCategory}`).getChildByName(color).active = false;\r\n      if (color === customEventData) {\r\n        cc.find(`Canvas/Character/${this.characterMgr.currentSkinCategory}`).getChildByName(this.characterMgr.currentSkinColor).active = true;\r\n        console.log('currentSkinColor:', this.characterMgr.currentSkinColor);\r\n      }\r\n    });\r\n    this.characterMgr.result();\r\n  }\r\n  // update (dt) {}\r\n}\r\n"]}
{"version":3,"sources":["../../../../assets/scripts/assets/scripts/map_manager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../assets/scripts","sourcesContent":["// Learn TypeScript:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n\n    @property(cc.SpriteFrame)\n    box: cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    bomb_frame: cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    exploded_effect_up_end: cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    exploded_effect_down_end:cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    exploded_effect_left_end:cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    exploded_effect_right_end:cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    exploded_effect_horizontal:cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    exploded_effect_vertical:cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    exploded_effect_center:cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    special_bomb_frame:cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    extra_special_bomb_frame:cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    type1_item_frame:cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    type2_item_frame:cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    type3_item_frame:cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    type4_item_frame:cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    type5_item_frame:cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    type6_item_frame:cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    type7_item_frame:cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    type8_item_frame:cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    type9_item_frame:cc.SpriteFrame = null;\n\n    onLoad() {\n        //cc.director.getCollisionManager().enabledDebugDraw = true;\n        cc.director.getCollisionManager().enabled = true;\n        // cc.director.getCollisionManager().enabledDrawBoundingBox = true;\n        cc.director.getPhysicsManager().enabled = true;\n        // cc.director.getPhysicsManager().debugDrawFlags = 1;\n        cc.director.getPhysicsManager().gravity = cc.v2();\n        this.initMap(this.node);\n    }\n\n    start() {\n\n    }\n\n    initMap(mapNode) {\n        let tiledMap = mapNode.getComponent(cc.TiledMap);\n        let tiledSize = tiledMap.getTileSize();\n        let layer = tiledMap.getLayer(\"Tile Layer 1\");\n        let layerSize = layer.getLayerSize();\n        // cc.log(\"layersize:\",layerSize);\n        tiledSize.width += 1;\n        let layer2 = tiledMap.getLayer(\"playerstart\");\n        let bomb_layer = tiledMap.getLayer(\"bomb layer\");\n        let exploded_effect_layer = tiledMap.getLayer(\"exploded effect layer\");\n        let item_layer = tiledMap.getLayer(\"item layer\");\n        for (let i = 0; i < layerSize.width; i++) {\n            for (let j = 0; j < layerSize.height; j++) {\n                //map initialize\n                let tiled = layer.getTiledTileAt(i, j, true);\n                if (tiled.gid != 0) {\n                    tiled.node.group = \"walls\";\n                    let body = tiled.node.addComponent(cc.RigidBody);\n                    body.type = cc.RigidBodyType.Static;\n                    let collider = tiled.node.addComponent(cc.PhysicsBoxCollider);\n                    collider.offset = cc.v2(tiledSize.height / 2, tiledSize.width / 2);\n                    collider.size = tiledSize;\n                    collider.apply();\n                }\n                else{\n                    let body = tiled.node.addComponent(cc.RigidBody);\n                    body.type = cc.RigidBodyType.Static;\n                    let collider = tiled.node.addComponent(cc.PhysicsBoxCollider);\n                    collider.offset = cc.v2(tiledSize.height / 2, tiledSize.width / 2);\n                    collider.size = tiledSize;\n                    collider.apply();\n                    body.active = false;\n                }\n                // add box\n                let tiled2 = layer2.getTiledTileAt(i, j, true);\n                let Sprite = tiled2.node.addComponent(cc.Sprite);\n                let body = tiled2.node.addComponent(cc.RigidBody);\n                let collider = tiled2.node.addComponent(cc.PhysicsBoxCollider);\n                collider.offset = cc.v2(tiledSize.height / 2, tiledSize.width / 2);\n                body.type = cc.RigidBodyType.Static;\n                collider.size = tiledSize;\n                collider.apply();\n                if(tiled.gid == 0 && tiled2.gid == 0)\n                    Sprite.spriteFrame = this.box;\n                else\n                    body.active = false;\n                tiled2.node.anchorX = 0;\n                tiled2.node.anchorY = 0;\n                //bomb tiled initialize\n                let bomb_tiled = bomb_layer.getTiledTileAt(i, j, true);\n                bomb_tiled.node.attr({\n                    bomb_type: 0,\n                        owner: null,\n                        map:null,\n                        left: true,\n                        range: 0,\n                        bomb_frame: this.bomb_frame,\n                        special_bomb_frame: this.special_bomb_frame,\n                        extra_special_bomb_frame:this.extra_special_bomb_frame\n                })\n                bomb_tiled.addComponent(cc.Sprite);\n                bomb_tiled.node.anchorX = 0;\n                bomb_tiled.node.anchorY = 0;\n                body = bomb_tiled.node.addComponent(cc.RigidBody);\n                collider = bomb_tiled.node.addComponent(cc.PhysicsBoxCollider);\n                collider.offset = cc.v2(tiledSize.height / 2, tiledSize.width / 2);\n                body.type = cc.RigidBodyType.Static;\n                collider.size = tiledSize;\n                collider.apply();\n                body.active = false;\n                //exploded effect tiled initialize\n                let exploded_effect_tiled = exploded_effect_layer.getTiledTileAt(i, j, true);\n                exploded_effect_tiled.node.attr({\n                    exploded_effect_up_end:this.exploded_effect_up_end,\n                    exploded_effect_down_end:this.exploded_effect_down_end,\n                    exploded_effect_left_end:this.exploded_effect_left_end,\n                    exploded_effect_right_end:this.exploded_effect_right_end,\n                    exploded_effect_horizontal:this.exploded_effect_horizontal,\n                    exploded_effect_vertical:this.exploded_effect_vertical,\n                    exploded_effect_center:this.exploded_effect_center,\n                })\n                exploded_effect_tiled.addComponent(cc.Sprite);\n                exploded_effect_tiled.node.anchorX = 0;\n                exploded_effect_tiled.node.anchorY = 0;\n                //item effect tiled initialize\n                let item_tiled = item_layer.getTiledTileAt(i, j, true);\n                item_tiled.node.attr({\n                    type: 0,\n                    type1_item_frame: this.type1_item_frame,\n                    type2_item_frame: this.type2_item_frame,\n                    type3_item_frame: this.type3_item_frame,\n                    type4_item_frame: this.type4_item_frame,\n                    type5_item_frame: this.type5_item_frame,\n                    type6_item_frame: this.type6_item_frame,\n                    type7_item_frame: this.type7_item_frame,\n                    type8_item_frame: this.type8_item_frame,\n                    type9_item_frame: this.type9_item_frame,\n                    default_contact: this.default_Contact,\n                    contact_type1: this.Contact1,\n                    contact_type2: this.Contact2,\n                    contact_type3: this.Contact3,\n                    contact_type4: this.Contact4,\n                    contact_type5: this.Contact5,\n                })\n                body = item_tiled.node.addComponent(cc.RigidBody);\n                body.type = cc.RigidBodyType.Static;\n                collider = item_tiled.node.addComponent(cc.PhysicsBoxCollider);\n                collider.offset = cc.v2(tiledSize.height / 2, tiledSize.width / 2);\n                collider.size = tiledSize;\n                collider.apply();\n                body.enabledContactListener = true;\n                body.onBeginContact = item_tiled.node.default_contact;\n                item_tiled.addComponent(cc.Sprite);\n                item_tiled.node.anchorX = 0;\n                item_tiled.node.anchorY = 0;\n            }\n        }\n\n    }\n    default_Contact(contact, selfCollider, otherCollider){\n        contact.disabled = true;\n    }\n    Contact1(contact, selfCollider, otherCollider){\n        contact.disabled = true;\n        if(otherCollider.node.name == \"player\" || otherCollider.node.name == \"player2\"){\n            if(selfCollider.getComponent(cc.Sprite).spriteFrame != null){\n                selfCollider.getComponent(cc.Sprite).spriteFrame = null;\n                if(otherCollider.node.name == \"player\")\n                    otherCollider.getComponent(\"player_controller\").bomb_exploded_range += 1;\n                else\n                    otherCollider.getComponent(\"player2_controller\").bomb_exploded_range += 1;\n                selfCollider.getComponent(cc.RigidBody).onBeginContact = selfCollider.node.default_contact;\n            }\n        }\n    }\n    Contact2(contact, selfCollider, otherCollider){\n        contact.disabled = true;\n        if(otherCollider.node.name == \"player\" || otherCollider.node.name == \"player2\"){\n            if(selfCollider.getComponent(cc.Sprite).spriteFrame != null){\n                selfCollider.getComponent(cc.Sprite).spriteFrame = null;\n                if(otherCollider.node.name == \"player\")\n                    otherCollider.getComponent(\"player_controller\")._speed += 10;\n                else\n                    otherCollider.getComponent(\"player2_controller\")._speed += 10;\n                selfCollider.getComponent(cc.RigidBody).onBeginContact = selfCollider.node.default_contact;\n            }\n        }\n    }\n    Contact3(contact, selfCollider, otherCollider){\n        contact.disabled = true;\n        if(otherCollider.node.name == \"player\" || otherCollider.node.name == \"player2\"){\n            if(selfCollider.getComponent(cc.Sprite).spriteFrame != null){\n                selfCollider.getComponent(cc.Sprite).spriteFrame = null;\n                if(otherCollider.node.name == \"player\")\n                    otherCollider.getComponent(\"player_controller\").bomb_number += 1;\n                else\n                    otherCollider.getComponent(\"player2_controller\").bomb_number += 1;\n                selfCollider.getComponent(cc.RigidBody).onBeginContact = selfCollider.node.default_contact;\n            }\n        }\n    }\n    Contact4(contact, selfCollider, otherCollider){\n        contact.disabled = true;\n        if(otherCollider.node.name == \"player\" || otherCollider.node.name == \"player2\"){\n            if(selfCollider.getComponent(cc.Sprite).spriteFrame != null){\n                selfCollider.getComponent(cc.Sprite).spriteFrame = null;\n                if(otherCollider.node.name == \"player\")\n                    otherCollider.getComponent(\"player_controller\").bomb_exploded_time *= 0.9;\n                else\n                    otherCollider.getComponent(\"player2_controller\").bomb_exploded_time *= 0.9;  \n                selfCollider.getComponent(cc.RigidBody).onBeginContact = selfCollider.node.default_contact;\n            }\n        }\n    }\n    Contact5(contact, selfCollider, otherCollider){\n        contact.disabled = true;\n        if(otherCollider.node.name == \"player\" || otherCollider.node.name == \"player2\"){\n            if(selfCollider.getComponent(cc.Sprite).spriteFrame != null){\n                selfCollider.getComponent(cc.Sprite).spriteFrame = null;\n                if(otherCollider.node.name == \"player\")\n                    otherCollider.getComponent(\"player_controller\").coin += 100;\n                else\n                    otherCollider.getComponent(\"player2_controller\").coin += 100;\n                selfCollider.getComponent(cc.RigidBody).onBeginContact = selfCollider.node.default_contact;\n            }\n        }\n    }\n    // update (dt) {}\n}"]}
{"version":3,"sources":["SeletGameSetting.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["const {ccclass, property} = cc._decorator;\r\nlet record = null;\r\n\r\n@ccclass\r\nexport class SeletGameSetting extends cc.Component {\r\n  \r\n  @property(cc.Label)\r\n  parentslabel: cc.Label = null;\r\n\r\n  @property(cc.Button)\r\n  button: cc.Button = null;\r\n\r\n  @property(cc.Label)\r\n  label: cc.Label = null;\r\n\r\n  @property(cc.SpriteFrame)\r\n  selectBg: cc.SpriteFrame = null;\r\n\r\n  @property(cc.SpriteFrame)\r\n  normalBg: cc.SpriteFrame = null;\r\n\r\n  // LIFE-CYCLE CALLBACKS:\r\n\r\n  onLoad () {\r\n    record = cc.find(\"record\").getComponent(\"record\");\r\n\r\n    // console.log('record.settingLife:', record.settingLife);\r\n    // console.log('record.settingTime:', record.settingTime);\r\n    // console.log('this.label.string:', this.label.string);\r\n    \r\n    \r\n    if (this.parentslabel.string === 'Life') {\r\n      if (record.settingLife === this.label.string) {\r\n        this.button.normalSprite = this.selectBg;\r\n      }\r\n    }\r\n\r\n    if (this.parentslabel.string === 'Time(s)') {\r\n      if (record.settingTime === this.label.string) {\r\n        this.button.normalSprite = this.selectBg;\r\n      }\r\n    }\r\n\r\n    if (this.parentslabel.string === 'Map') {\r\n      console.log('新的maprecord:', record.settingMap);\r\n      this.label.string = record.settingMap;\r\n    }\r\n\r\n    if (this.parentslabel.string === 'Maps') {\r\n      if (record.settingMap === this.label.string) {\r\n        this.button.normalSprite = this.selectBg;\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  start () {\r\n    let clickEventHandler = new cc.Component.EventHandler();\r\n    clickEventHandler.target = this.node;\r\n    clickEventHandler.component = \"SeletGameSetting\";\r\n    if (this.parentslabel.string === 'Life') {\r\n      clickEventHandler.handler = \"setLife\";\r\n    }\r\n    if (this.parentslabel.string === 'Time(s)') {\r\n      clickEventHandler.handler = \"setTime\";\r\n    }\r\n    if (this.parentslabel.string === 'Maps') {\r\n      clickEventHandler.handler = \"setMap\";\r\n    }\r\n    if (this.parentslabel.string === 'Map') {\r\n      clickEventHandler.handler = \"selectMap\";\r\n    }\r\n    if (this.label) { \r\n      clickEventHandler.customEventData = this.label.string;\r\n    }\r\n\r\n\r\n    let button = this.node.getComponent(cc.Button);\r\n    button.clickEvents.push(clickEventHandler);\r\n  }\r\n\r\n  setLife(event, customEventData) {\r\n    record.settingLife = customEventData;\r\n    console.log(record.settingLife, record.settingTime);\r\n    this.selectedColor();\r\n  }\r\n\r\n  setTime(event, customEventData) {\r\n    record.settingTime = customEventData;\r\n    console.log(record.settingLife, record.settingTime);\r\n    this.selectedColor();\r\n  }\r\n\r\n  setMap(event, customEventData) {\r\n    console.log('map customEventData:', customEventData);\r\n    record.settingMap = customEventData;\r\n    console.log('setMap:', record.settingMap);\r\n    this.selectedColor();\r\n  }\r\n\r\n  selectMap() {\r\n    cc.director.loadScene(\"maps\");\r\n  }\r\n\r\n  selectedColor() {\r\n    if (this.parentslabel.string === 'Life') {\r\n      cc.find(`Canvas/Setting/Life/OneLife`).getComponent(cc.Button).normalSprite = this.normalBg;\r\n      cc.find(`Canvas/Setting/Life/ThreeLifes`).getComponent(cc.Button).normalSprite = this.normalBg;\r\n      cc.find(`Canvas/Setting/Life/FiveLifes`).getComponent(cc.Button).normalSprite = this.normalBg;\r\n      if (record.settingLife === this.label.string) {\r\n        this.button.normalSprite = this.selectBg;\r\n      }\r\n    }\r\n    if (this.parentslabel.string === 'Time(s)') {\r\n      cc.find(`Canvas/Setting/Time/OneMinute`).getComponent(cc.Button).normalSprite = this.normalBg;\r\n      cc.find(`Canvas/Setting/Time/TwoMinutes`).getComponent(cc.Button).normalSprite = this.normalBg;\r\n      cc.find(`Canvas/Setting/Time/ThreeMinutes`).getComponent(cc.Button).normalSprite = this.normalBg;\r\n      if (record.settingTime === this.label.string) {\r\n        this.button.normalSprite = this.selectBg;\r\n      }\r\n    }\r\n    if (this.parentslabel.string === 'Maps') {\r\n      cc.find(`Canvas/Maps/map1`).getComponent(cc.Button).normalSprite = this.normalBg;\r\n      cc.find(`Canvas/Maps/map2`).getComponent(cc.Button).normalSprite = this.normalBg;\r\n      cc.find(`Canvas/Maps/map3`).getComponent(cc.Button).normalSprite = this.normalBg;\r\n      if (record.settingMap === this.label.string) {\r\n        this.button.normalSprite = this.selectBg;\r\n      }\r\n    }\r\n  }\r\n\r\n  // update (dt) {}\r\n}\r\n"]}